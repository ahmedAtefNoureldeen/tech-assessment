# ğŸš§ Areas for Improvement â€“ Project Enhancements

This document outlines key areas for improving the functionality, security, and auditability of the platform. These improvements aim to make the system more robust, scalable, and enterprise-ready.

---

## ğŸ” 1. Advanced Access Control (RBAC)

### ğŸ¯ Objective:
Ensure only authorized users can access sensitive actions or data.

### ğŸ§© Proposed Roles:
- **Admin:** Full access (manage users, payroll, projects)
- **Manager:** Can create/edit projects, assign tasks
- **Employee:** Can view assigned tasks, mark them as done

### ğŸ”’ Role-Based Permissions:

| Action                      | Admin | Manager | Employee |
|----------------------------|:-----:|:-------:|:--------:|
| View Payroll               | âœ…     | âŒ       | âŒ        |
| Edit Payroll               | âœ…     | âŒ       | âŒ        |
| Add/Delete Project         | âœ…     | âœ…       | âŒ        |
| Add/Delete Employee        | âœ…     | âŒ       | âŒ        |
| Edit Employee Base Salary  | âœ…     | âŒ       | âŒ        |

---

## ğŸ§¾ 2. Audit Trail / History Tables

### ğŸ¯ Objective:
Track and log critical actions across the system for accountability and rollback support.

### ğŸ•µï¸â€â™‚ï¸ Actions to Log:
- ğŸ‘¤ Employee created, edited, or deleted
- ğŸ“ Project created, edited, or deleted
- ğŸ’¸ Payroll record generated or modified
- ğŸ’° Salary changes (with timestamp and responsible user)

### ğŸ“š Example Audit Log Entry:
```json
{
  "action": "delete_employee",
  "performed_by": "admin@company.com",
  "timestamp": "2025-05-19T12:45:00Z",
  "metadata": {
    "employee_id": "EMP123",
    "employee_name": "John Doe"
  }
}

## ğŸ’° 3. Payroll Logic Enhancements

### ğŸ¯ Objective:
Ensure that payroll records remain consistent and historically accurate, while allowing flexibility for future salary updates.

### ğŸ§  Current Behavior:
- When a payroll is already **generated** for a future month (e.g., June), and a user changes the base salary now (in May), the June payroll reflects the new salary â€” **even though it was already generated**.

### âš  Problem:
This causes inconsistencies in payroll records that were already generated. For example:
> Juneâ€™s payroll was generated with a base salary of $3000. In May, someone updates the salary to $3500. Now the June payroll incorrectly reflects $3500.

---

### ğŸ”„ Proposed Rule (Improved Logic):

1. **If payroll is already generated**, and the payroll month is **in the past or current month**,  
   â¤ **Do not apply** any base salary changes.

2. **If payroll is already generated**, and the payroll month is **in the future**,  
   â¤ Apply the updated base salary **only if** the user explicitly re-generates the payroll (with a warning).

3. **If payroll is not yet generated**,  
   â¤ Use the latest base salary during generation.

---

### âœ… Benefits:
- âœ… Protects historical payroll data from accidental edits
- âœ… Ensures real-world consistency (just like HR systems)
- âœ… Reduces potential disputes over salary calculations
- âœ… Allows legitimate forward-looking salary adjustments

---

### ğŸ’¡ Optional Enhancements:
- Add a toggle for â€œLock Generated Payrollsâ€
- Add a warning if someone updates salary for an employee with a generated payroll in the future
- Enable Admin override with logging for full control

